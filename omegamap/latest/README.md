This image facilitates the usage of [`omegaMap`](http://www.danielwilson.me.uk/omegaMap.html), a program for detecting natural selection and recombination in DNA or RNA sequences. It provides a single command `analyze` which creates the analysis model (i.e. the configuration file), runs `omegaMap` and finally runs the `summarize` utility from `omegaMap`.

# Using the omegaMap image in Linux

You should adapt and run the following command: `docker run --rm -v /your/data/dir:/data pegi3s/omegamap analyze /data/input.fasta /data 25000`

In this command, you should replace:
- `/your/data/dir` to point to the directory that contains the FASTA file you want to analyze.
- `input.fasta` to the actual name of your input file.
- `data` to the actual name of the directory where output files will be created.
- `25000` to the actual number of iterations you want

Two files will be created: `input.fasta.result` and `input.fasta.summary`.

# Test data
To test the previous command, you can copy and paste the following sample data, which consists of aligned sequences obtained from [here](https://www.ncbi.nlm.nih.gov/popset/8102039?report=fasta), into the `input.fasta` file:
```
>AF264073.1 Drosophila capricorni alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGATCCTCGATCGTATTGATAATCCTGCTGCCATTGCTGAACTGAAGGCAATCAATCCCAAGG
TGACAGTTACCTTCTTCCCCTACGATGTGACCACATCCTTGGCCGAGACCTCCAAATTGCTGAAAACCAT
TTTCGCTCAACTGAAGACTGTCGATGTTCTGATCAATGGAGCTGGCATTCTGGACGATCATCAGATTGAA
CGCACCATTGCCGTCAATTTCACCGGCCTGGTCAATACCACAACCGCAATTTTGGACTTCTGGGACAAGC
GTAAGGGTGGTCCAGGTGGTGTGATCTGCAACATTGGATCGGTGACTGGTTTCAATGCCATCTACCAGGT
GCCCGTCTACTCGGCATCGAAGGCAGCTGTCGTCAGCTTCACTCAGTCCATTGCC
>AF264074.1 Drosophila equinoxialis alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGATCCTGGATCGTATTGACAATCCTGCTGCCATCGCTGAACTGAAGGCAATCAATCCCAAAG
TAACAGTTACTTTCTATCCCTATGATGTTACCACACCCTTGACAGAGACTACCAAATTGTTGAAGACCAT
TTTCGCCCAATTGAAGACTGTCGATGTTCTAATCAATGGAGCTGGTATTTTGGATGATCATCAGATTGAG
CGAACCATTGCCGTGAACTTCACTGGTTTGGTCAATACCACCACAGCTATTTTGGACTTCTGGGATAAGC
GCAAGGGTGGACCAGGTGGTGTCATCTGCAACATTGGCTCTGTGACCGGTTTCAATGCCATCTATCAGGT
CCCTGTCTATTCTGCATCAAAAGCACGTGTTGTTAGCTTCACTCAATCCATTGCC
>AF264075.1 Drosophila fumipennis alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGGTCCTGGATCGTATTGACAATCCTGCTGCCATTGCTGAACTGAAGGCAATCAATCCCAAGG
TGACAGTTACCTTCTATCCCTATGATGTGACCGTACCCTTGGCGGAGACCACCAAATTGCTAAAGACCAT
TTTCGATCAACTCAAGACTGTCGATGTTCTGATCAATGGTGCTGGCATTCTAGATGATCATCAGATCGAG
CGTACCATTGCTGTGAAATTCACTGGTCTGGTCAATACTACAACGGCCATTCTGGACTTCTGGAACAAGC
GTAAGGGTGGTCCAGGTGGTGTGATCTGCAATATTGGCTCGGTGACTGGTTTTAATGCCATCTACCAGGT
GCCTGTCTATAGTGCATCAAAGGAGGATGTTGTTAGCTTCACTCAATGTATTGCC
>AF264076.1 Drosophila insularis alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGGTCCTGGATCGTATTGACAATCCTGCTGCCATTGCTGAACTGAAGGCAATCAATCCCAAGG
TGACAGTTACTTTCTATCCCTATGATGTTACCACACCCTTGACAGAGACCACCAAATTGTTGAAGACCAT
TTTCGCCCAATTGAAGACCGTCGATGTTCTGATCAATGGAGCTGGCATTTTGGATGACCATCAGATTGAG
CGCACCATTGCTGTGAATTTCACTGGTCTGGTCAATACCACGACAGCCATTTTGGACTTCTGGGACAAGC
GTAAGGGTGGTCCAGGTGGTGTCATCTGCAACATTGGCTCTGTGACCGGTTTCAATGCCATCTATCAGGT
GCCTGTCTATAGTGCATCAAAGGAGGATGTTGTTAGCTTCACTCAATGTATTGCC
>AF264077.1 Drosophila nebulosa alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGATCCTCGATCGCATTGACAAGCCTGCTGCCATGGCGGAACTGAAGGCAATCAATCCCAAAG
TGATAGTTACCTTCTATCCCTATGATGTTACCACACCCATTACGGAGACCACCAAATTGCTAAAGACCAT
TTTCGCTCAACTAAAGACCGTTGATGTGCTGATCAATGGTGCTGGCATTTTGGATGATCATCAGATTGAG
CGCACCATTGCCGTTAACTTTACTGGTTTGGTTAATACCACCACGGCCATTTTGGACTTCTGGGACAAGC
GTAAGGGTGGTCCAGGTGGTGTTATTTGCAACATTGGTTCGGTGACTGGCTTCAATGCCATTTACCAAGT
GCCCGTCTATTCCGGCATCGAGGCAGCAGTTGTTAGCTTCACTCAATCGATTGCC
>AF264078.1 Drosophila paulistorum alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGATCCTCGATCGCATTGACAAGCCTGCTGCCATGGCGGAACTGAAGGCAATCAATCCCAAAG
TGATAGTTACTTTCTATCCCTATGATGTGACCACACCCTTGACAGAGACTACCAAATTGTTGAAGACCAT
TTTCGCCCAATTGAAGACTGTCGATGTTCTGATCAATGGAGCTGGCATTTTGGATGATCATCAGATTGAG
CGAACCATTGCCGTGAACTTCACTGGTTTGGTCAAAACCACCACAGCCATTTTGGACTTCTGGGATAAGC
GTAAGGGTGGACCAGGTGGTATTATCTGCAACATAGGATCGGTGACTGGTTTCAATGCCATGTACCAGGT
CCCCGTCTACTCGGCATCGAAAGCAGCTGTCGTCAGCTTCACTCAGTCCATTGCC
>AF264079.1 Drosophila pavlovskiana alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGATCCTGGATCGTATTGACAATCCTGCTGCCATTGCTGAACTGAAGGCAATGAATCCCAAAG
TGACAGTTACTTTCTATCCCTATGATGTTACCACACCCTTGACAGAGACTACCAAATTGTTGAAGACCAT
TTTCGCCCAATTGAAGACTGTCGATGTTCTGATCAATGGAGCTGGCATTTTGGATGCTCATCAGATTGAG
CGAACCATTGCCGTGAACTTCACTGGTTTGGTCAATACCACCACAGCCATTTTGGACTTCTGGGATAAGC
GTAAGGGTGGACCAGGTGGTGTTATCTGCAACATTGGCTCTGTGACCGGTTTCAATGCCATCTATCAGGT
CCCTGTCTATTCTGCATCGAAAGCAGCTGTTGTTAGCTTCACTCAATCCATTGCC
>AF264080.1 Drosophila sucinea alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGATCCTCGATCGTATTGATAATCCTGATGCCATTGCTGAACTGAAGGCAATCAATCCCAAGG
TGACAGTTACCTTCTTCCCCTACGATGTGACCACATCCTTGGCCGAGACCACCAAATTGCTGATAACCAT
TTTCGCTCAACTGATGACTGTCGTTCTGCTGATCAATGGAGCTGGCATTCTGGACGATCATCAGATTGAA
CGCACCATTGCCGTGAAATTCACCGGCCTGGTCAATACCATCAACGCAATTTTGGACATCTGGGACAAGC
GTAAGGGTGGACCAGGTGGTGTGATCTGCAACATTGGATCGGTGACTGGTTTCAATGCCATGTACCAGGT
CCCCGTCTACTCGGCATCGAAAGCAGCTGTCGTCAGCTTCACTCAGTCCATTGCC
>AF264081.1 Drosophila tropicalis alcohol dehydrogenase (Adh) gene, partial cds
AACCTGGTGATCCTGGATCGTATTGACAATCCTGCTGCCATTGCTGAGCTGAAGGCAATCAATCCCAAAG
TGACAGTTTACTTCTATCCCTACGATGTTACCGCACCCGTTGCAGAGACTACCAAATTGTTGAAGACCAT
TTTCGCTCAATTGAAAACTGTCGATGTTCTGATCAACGGAGCTGGCATTTTGGATGATCATCAGATTGAG
CGTACCATTGCTGTGAACTTCACTGGTTTGGTCAACACCACCACAGCCATTTTGGACTTCTGGGATAAGC
GCAAGGGTGGTCCAGGCGGTGTCATCTGCAACATTGGCTCCGTGACCGGTTTCAATGCGATCTATCAGGT
GGCTGTATATTCCGGCACGAAAGCAGGTGTGGTCAACTTCACTCAATCCATTGCC
>AF264082.1 Drosophila willistoni alcohol dehydrogenase (Adh) gene, partial cds
AACTTGGTGATCCTGGATCGTATTGACAAACCTGCTGCCATTGCTGAACTGAAGGCAATCAATCCCAAAG
TGACAGTTACCTTCTATCCCTATGATGTTACCACACCCTTGACAGAGACTACCAATTTGTTGAAGACCAT
TTTCGCCCAATTGAAGACTGTCGATGTCCTGATCAATGGAGCTGGCATTTTGGATGATCATCAGATCGAG
CGTACCATTGCTGTGAACTTCACTGGTTTGGTCAATACCACCACAGCCATTTTGGACTTCTGGGATAAGC
GTAAGGGTGGACCAGGTGGCGTCATCTGCAACATTGGCTCTGTGACCGGTTTCAATGCCATCTACCAGGT
CCCTGTCTATTCCGCATCCAAAGCAGCTGTTGTTAGCTTCACTCAATCCATTGCC
```

# Using the omegaMap image in Windows

Please, note that data must be under the same drive than the Docker Toolbox installation (usually `C:`) and in a folder with write permissions (e.g. `C:/Users/User_name/`).

You should adapt and run the following command: `docker run --rm -v "/c/Users/User_name/dir/":/data pegi3s/omegamap analyze /data/input.fasta /data 25000`
